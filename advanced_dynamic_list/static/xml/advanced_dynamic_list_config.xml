<?xml version="1.0" encoding="UTF-8" ?>
<templates>

    <t t-name="advanced_dynamic_list.list_config">
        <div t-attf-class="advanced_dynamic_list_config d-flex flex-row {{widget.isX2Many? 'x2many_configer':'' }}">
            <div class="d-flex flex-column flex-fill">
                <div class="tab_content flex-fill">
                    <div id="columns" class="columns_tab_pane tab_pane active">
                        <div class="d-flex flex-column" style="width:100%; height:100%"><div class="sorter_container flex-fill" />
                        </div>
                    </div>
                    <div id="settings" class="filter_tab_pane tab_pane"/>
                </div>

                <div class="footer">
                    <button class="btn btn-primary save_column_config" type="button">Update</button>
                    <button class="btn btn-danger reset_settings ml-1" type="button">Reset</button>
                    <button class="btn btn-secondary cancel_column_config ml-1" type="button">Cancel</button>
                </div>
            </div>

            <div class="tabs d-flex flex-column">
                <div class="tab_item acive" data-tab-id="columns">
                    <i class="fa fa-list-ul"></i>
                    <span>DYNAMIC lIST MANAGER</span>
                </div>
            </div>
        </div>
    </t>

    <t t-name="advanced_dynamic_list.column_config">
        <t t-if="widget.get_config_column_layout() != 'vertical'">
            <div class="d-flex flex-row" style="height:100%;">
                <div class="column_config_container" style="height:100%">
                    <div class="d-flex flex-column">
                        <h2 class="my-3">Columns</h2>
                        <div class="nested-sortable list_fields_container d-flex flex-column flex-fill" style="overflow-y:auto">
                            <t t-foreach="widget.header_arch" t-as="column">
                                <t t-if="!column.parent">
                                    <t t-call="advanced_dynamic_list.column_config_item" />
                                </t>
                            </t>
                            <t t-foreach="widget.hidden_fields" t-as="column">
                                <t t-call="advanced_dynamic_list.column_config_item" />
                            </t>
                        </div>
                    </div>
                </div>
                <div class="d-flex flex-column flex-fill">
                    <h2 class="my-3">Other Columns</h2>
                    <div class="invisible_fields flex-fill" style="overflow-y:auto">
                        <t t-foreach="widget.invisible_fields" t-as="column">
                            <t t-call="advanced_dynamic_list.invisible_column" />
                        </t>
                    </div>
                </div>
            </div>
        </t>
        <t t-else="">
            <div class="d-flex flex-column">
                <div class="column_config_container">
                    <div class="d-flex flex-column">
                        <h2 class="my-3">Columns</h2>
                        <div class="nested-sortable list_fields_container d-flex flex-column">
                            <t t-foreach="widget.header_arch" t-as="column">
                                <t t-if="!column.parent">
                                    <t t-call="advanced_dynamic_list.column_config_item" />
                                </t>
                            </t>
                            <t t-foreach="widget.hidden_fields" t-as="column">
                                <t t-call="advanced_dynamic_list.column_config_item" />
                            </t>
                        </div>
                    </div>
                </div>
                <div class="d-flex flex-column">
                    <h2 class="my-3">Other Columns</h2>
                    <div class="invisible_fields mt-3">
                        <t t-foreach="widget.invisible_fields" t-as="column">
                            <t t-call="advanced_dynamic_list.invisible_column" />
                        </t>
                    </div>
                </div>
            </div>
        </t>
    </t>

    <t t-name="advanced_dynamic_list.column_config_item">
        <div t-if="(column.children || []).length > 0 &amp;&amp; !column.tag" t-attf-class="list-group-item column-item nested-{{depth}}" t-attf-data-column-name="{{widget._getColumnName(column)}}">
            <t t-if="widget._sameAsParent(column) &amp;&amp; !column.real_group">
                <t t-foreach="column.children" t-as="column">
                    <t t-call="advanced_dynamic_list.column_config_item" />
                </t>
            </t>
            <t t-else="">
                <t t-call="advanced_dynamic_list.column_name_item" />
                <div t-if="!widget._isAllChidrenSame(column)" class="list-group nested-sortable">
                    <t t-foreach="column.children" t-as="column">
                        <t t-call="advanced_dynamic_list.column_config_item" />
                    </t>
                </div>
            </t>
        </div>
        <t t-elif="widget._sameAsParent(column)" />
        <div t-else="" t-attf-class="list-group-item column-item nested-{{depth}}" t-attf-data-column-name="{{widget._getColumnName(column)}}">
            <t t-call="advanced_dynamic_list.column_name_item" />
        </div>
    </t>

    <t t-name="advanced_dynamic_list.column_name_item">
        <div class="input-group">
            <div class="input-group-prepend drag_handle">
                <span class="input-group-text fa fa-arrows-alt" role="img" aria-label="Column Config" title="Column Config"></span>
            </div>
            <span class="form-control d-flex align-items-center">
                <span class="o_text_overflow flex-grow-1">
                    <input t-if="widget._isField(column)" type="text" t-attf-value="{{widget._getColumnString(column)}}" style="color:green" t-attf-column-width="{{column.current_width }}"/>
                    <input t-else="" type="text" t-attf-value="{{widget._getColumnString(column)}}" />
                </span>
            </span>
            <span class="input-group-append">
                <button type="button" t-attf-class="btn toggle_visible iconfont {{widget.isHidenFields(column)? 'icon-invisible btn-danger': 'icon-visible btn-success'}}" aria-label="Delete Menu Item" title="Delete Column Item">
                </button>
            </span>
        </div>
    </t>

    <t t-name="advanced_dynamic_list.invisible_column">
        <div t-attf-class="list-group-item column-item nested-0" t-attf-data-column-name="{{widget._getColumnName(column)}}">
            <div class="input-group">
                <div class="input-group-prepend drag_handle">
                    <span class="input-group-text fa fa-arrows-alt" role="img" aria-label="Column Config" title="Column Config"/>
                </div>
                <span class="form-control d-flex align-items-center">
                    <span class="js_menu_label o_text_overflow flex-grow-1">
                        <input type="text" t-attf-value="{{widget._getColumnString(column)}}" />
                    </span>
                </span>
                <span class="input-group-append">
                    <button type="button" class="btn btn-success toggle_visible iconfont icon-visible" aria-label="Delete Menu Item" title="Delete Column Item"></button>
                </span>
            </div>
        </div>
    </t>

    <t t-name="advanced_dynamic_list.column_group_item">
        <div class="list-group-item column-item" t-attf-data-column-name="{{widget._getColumnName(column)}}">
            <div class="input-group">
                <div class="input-group-prepend drag_handle">
                    <span class="input-group-text fa fa-arrows-alt" role="img" aria-label="Dropdown menu" title="Dropdown menu"/>
                </div>
                <span class="form-control d-flex align-items-center">
                    <span class="o_text_overflow flex-grow-1">
                        <input type="text" t-attf-value="{{widget._getColumnString(column)}}" style="color:green" />
                    </span>
                </span>
                <span class="input-group-append">
                    <button type="button" class="btn btn-success toggle_visible iconfont icon-visible" aria-label="Delete Menu Item" title="Delete Column Item"></button>
                </span>
            </div>
            <div class="list-group nested-sortable" />
        </div>
    </t>

    <t t-name="advanced_dynamic_list.settings">
    </t>

</templates>
